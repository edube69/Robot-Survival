<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robot Survival</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <!-- Start Screen -->
    <div id="startScreen">
        <h1 class="title">ROBOTRON</h1>
        <p class="subtitle">Retro Survival Arena</p>

        <button id="startButton" class="start-button">Start Mission</button>

        <div class="features">
            <div class="feature-grid">
                <div class="feature">
                    <h3>ðŸŽ¯ Auto-Targeting</h3>
                    <p>Advanced AI targeting system locks onto the nearest threat</p>
                </div>
                <div class="feature">
                    <h3>âš¡ Power Upgrades</h3>
                    <p>Collect gems to unlock devastating abilities and orbital shields</p>
                </div>
                <div class="feature">
                    <h3>ðŸ¤– Enemy Variants</h3>
                    <p>Face off against Fast Scouts, Heavy Tanks, and Splitter Units</p>
                </div>
                <div class="feature">
                    <h3>ðŸ”„ Resurrection</h3>
                    <p>Death is not the end - revive with enhanced abilities</p>
                </div>
            </div>
        </div>

        <a href="./highscores.html" id="highscoresButton" class="highscores-button">View High Scores</a>

    </div>
    
    <!-- Game Screen -->
    <div id="gameScreen">
        <div id="gameHUD">
            <div class="hud-section">
                <div class="hud-item"><label>Score</label><span id="score">0</span></div>
                <div class="hud-item"><label>Wave</label><span id="wave">1</span></div>
                <div class="hud-item"><label>Lives</label><span id="lives">3</span></div>
            </div>
            <div id="movementMode">MODE: WASD</div>
            <div class="hud-section">
                <div class="hud-item"><label>Gems</label><span id="gems">0</span></div>
                <div class="hud-item"><label>Next Upgrade</label><span id="nextUpgrade">75</span></div>
                <div class="hud-item"><label>Resurrections</label><span id="resurrections">0</span></div>
            </div>
        </div>

        <div id="gameContainer">
            <canvas id="gameCanvas" width="800" height="600"></canvas>
            
            <div id="gameOver">
                <div class="glow">MISSION FAILED</div>
                <div class="game-over-prompt">Press SPACE to restart or ESC for main menu</div>
                <div class="score-form">
                    <label for="username">Enter your name for the leaderboard:</label>
                    <input type="text"
                           id="username"
                           class="username-input"
                           maxlength="10"
                           placeholder="Ton nom (max 10)"
                           autocomplete="username" />
                    <button id="submitScore" class="submit-button">Submit Score</button>
                </div>
            </div>
            
            <div id="reviveScreen">
                <div class="glow">RESURRECTION PROTOCOL</div>
                <div class="revive-prompt">Choose your enhanced abilities:</div>
                <div id="reviveOptions"></div>
                <div class="revive-instructions">Press 1, 2, or 3 to choose â€¢ 4 to skip resurrection</div>
            </div>
            
            <div id="instructions">
                WASD: Move | M: Toggle Mouse Mode | S: Toggle Sound | 1,2,3: Choose upgrades | SPACE: Restart
            </div>
        </div>
    </div>

    <!-- Firebase Scripts -->
    <script type="module" src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>
    
    <!-- Base Configuration -->
    <script type="module" src="js/config.js"></script>
    
    <!-- Core Engine Modules -->
    <script type="module" src="js/game.js"></script>
</body>
</html>